<style>
    .mud-expand-panel-header {
        padding-left: 0 !important;
        padding-bottom: 0 !important;
        padding-top: 0 !important;
    }
</style>

<MudExpansionPanels MultiExpansion Elevation="25">
    @foreach (Activity act in Activities)
    {
        var actType = ActivityType.GetActivityType(act.WorkoutType);
        <MudExpansionPanel Dense Style="@(act.IsWorkOut ? $"background: #c9a853" : "")">
            <TitleContent>
                <MudStack Row AlignItems="AlignItems.Center">
                    <IconText Icon="@actType.Icon"
                              Text="@actType.Name"
                              SubText="@($"Group: {GroupName}")" />
                    <MudStack Spacing="0">
                        <MudStack Row
                                  Class="pr-10 py-2"
                                  Spacing="0"
                                  Justify="Justify.FlexEnd"
                                  AlignItems="AlignItems.Baseline">
                            <MudText Typo="Typo.h3">@(act.DurationSeconds / 60)</MudText>
                            <MudText Typo="Typo.body1">min</MudText>
                        </MudStack>
                    </MudStack>
                </MudStack>
            </TitleContent>
            <ChildContent>
                <MudDivider />
                <MudTextField Value="@act.Description"
                              Label="Description"
                              ReadOnly
                              AutoGrow
                              DisableUnderLine
                              Variant="Variant.Filled"
                              Class="mb-2"
                              Margin=Margin.Dense />
            </ChildContent>
        </MudExpansionPanel>
    }
</MudExpansionPanels>

@code {
    [Parameter] public IEnumerable<Activity> Activities { get; set; } = [];
    [Parameter] public string GroupName { get; set; } = "";
}
